# Estimations

By making estimations on load, storage, bandwidth, and latency, you can determine resource allocation and your system design.

## Types of Estimations

Several types of estimations you may need to make:

### Load estimation

Predict the expected number of `requests per second`, `data volume`, or user traffic for the system. Derived from an estimate of the number of users (and/or concurrent users) and how active they are.

Suppose you’re asked to design a social media platform with 100 million daily active users (DAU) and an average of 10 posts per user per day. To estimate the load, you’d calculate the total number of posts generated daily:

```
100 million DAU * 10 posts/user = 1 billion posts/day
```

Then, you can estimate the request rate per second:

```
1 billion posts per day / 86,400 seconds per day ≈ 11,574 requests/second
```

### Storage estimation

Estimate the `amount of storage` required to handle the data generated by the system.

Consider a photo-sharing app with 500 million users and an average of 2 photos uploaded per user per day. Each photo has an average size of 2 MB. To estimate the storage required for one day’s worth of photos, you’d calculate:

```
500 million users * 2 photos/user * 2 MB/photo = 2,000,000,000 MB/day
```

### Bandwidth estimation

Determine the `network bandwidth` needed to support the expected traffic and data transfer.

For a video streaming service with 10 million users streaming 1080p videos at 4 Mbps, you can estimate the required bandwidth:

```
10 million users * 4 Mbps = 40,000,000 Mbps
```

### Latency estimation

Predict the `response time and latency` of the system based on its architecture and components.

Suppose you’re designing an API that fetches data from multiple sources, and you know that the average latency for each source is 50 ms, 100 ms, and 200 ms, respectively. If the data fetching process is sequential, you can estimate the total latency as follows:

```
50 ms + 100 ms + 200 ms = 350 ms
```

If the data fetching process is parallel, the total latency would be the maximum latency among the sources:

```
max(50 ms, 100 ms, 200 ms) = 200 ms
```

### Resource estimation

Estimate the number of `servers, CPUs, or memory` required to handle the load and maintain desired performance levels. Can make this estimation after others.

Imagine you’re designing a web application that receives 10,000 requests per second, with each request requiring 10 ms of CPU time. To estimate the number of CPU cores needed, you can calculate the total CPU time per second:

```
10,000 requests/second * 10 ms/request = 100,000 ms/second
```

Assuming each CPU core can handle 1,000 ms of processing per second, the number of cores required would be:

```
100,000 ms/second / 1,000 ms/core = 100 cores
```

## Examples

### 1. Designing a messaging service

Imagine you are tasked with designing a messaging service similar to WhatsApp. To estimate the system’s requirements, you can start by considering the following aspects:

- `Number of users`: Estimate the total number of users for the platform. This can be based on market research, competitor analysis, or historical data.
- `Messages per user per day`: Estimate the average number of messages sent by each user per day. This can be based on user behavior patterns or industry benchmarks.
- `Message size`: Estimate the average size of a message, considering text, images, videos, and other media content.
- `Storage requirements`: Calculate the total storage needed to store messages for a specified retention period, taking into account the number of users, messages per user, message size, and data redundancy.
- `Bandwidth requirements`: Estimate the bandwidth needed to handle the message traffic between users, considering the number of users, messages per user, and message size.

By breaking down the problem into smaller components and applying estimation techniques, you can derive a rough idea of the messaging service’s requirements, which can guide your design choices and resource allocation.

### 2. Designing a video streaming platform

Suppose you are designing a video streaming platform similar to Netflix. To estimate the system’s requirements, consider the following aspects:

- `Number of users`: Estimate the total number of users for the platform based on market research, competitor analysis, or historical data.
- `Concurrent users`: Estimate the number of users who will be streaming videos simultaneously during peak hours.
- `Video size and bitrate`: Estimate the average size and bitrate of videos on the platform, considering various resolutions and encoding formats.
- `Storage requirements`: Calculate the total storage needed to store the video content, taking into account the number of videos, their sizes, and data redundancy.
- `Bandwidth requirements`: Estimate the bandwidth needed to handle the video streaming traffic, considering the number of concurrent users, video bitrates, and user locations.

By applying estimation techniques and aggregating the individual estimates, you can get a ballpark figure of the video streaming platform’s requirements, which can inform your design decisions and resource allocation.
